"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[118],{3926(e,n,i){i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"guides/builder-api","title":"Builder API","description":"The Builder API provides a three-tier system for configuring achievements, from simple smart defaults to full custom control.","source":"@site/docs/guides/builder-api.md","sourceDirName":"guides","slug":"/guides/builder-api","permalink":"/achievements-engine/docs/guides/builder-api","draft":false,"unlisted":false,"editUrl":"https://github.com/dave-b-b/achievements-engine/tree/main/docs/docs/guides/builder-api.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Getting Started","permalink":"/achievements-engine/docs/getting-started"},"next":{"title":"Direct Metric Updates","permalink":"/achievements-engine/docs/guides/direct-updates"}}');var c=i(4848),r=i(8453);const s={sidebar_position:3},l="Builder API",a={},o=[{value:"Overview",id:"overview",level:2},{value:"Tier 1: Smart Defaults",id:"tier-1-smart-defaults",level:2},{value:"Score Achievements",id:"score-achievements",level:3},{value:"Level Achievements",id:"level-achievements",level:3},{value:"Boolean Achievements",id:"boolean-achievements",level:3},{value:"Value-Based Achievements",id:"value-based-achievements",level:3},{value:"Tier 2: Chainable Customization",id:"tier-2-chainable-customization",level:2},{value:"Customizing Individual Achievements",id:"customizing-individual-achievements",level:3},{value:"Customizing in Batch",id:"customizing-in-batch",level:3},{value:"Combining Different Achievement Types",id:"combining-different-achievement-types",level:3},{value:"Tier 3: Full Control",id:"tier-3-full-control",level:2},{value:"Basic Custom Achievement",id:"basic-custom-achievement",level:3},{value:"Multi-Metric Condition",id:"multi-metric-condition",level:3},{value:"Percentage-Based Achievement",id:"percentage-based-achievement",level:3},{value:"Complete Example",id:"complete-example",level:2},{value:"AwardDetails Interface",id:"awarddetails-interface",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Use Smart Defaults When Possible",id:"1-use-smart-defaults-when-possible",level:3},{value:"2. Combine Related Achievements",id:"2-combine-related-achievements",level:3},{value:"3. Use Descriptive Metrics for Custom Achievements",id:"3-use-descriptive-metrics-for-custom-achievements",level:3},{value:"4. Leverage the Metrics Parameter",id:"4-leverage-the-metrics-parameter",level:3},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"builder-api",children:"Builder API"})}),"\n",(0,c.jsx)(n.p,{children:"The Builder API provides a three-tier system for configuring achievements, from simple smart defaults to full custom control."}),"\n",(0,c.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,c.jsx)(n.p,{children:"achievements-engine offers three levels of configuration:"}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Tier 1: Smart Defaults"})," - Zero configuration for common patterns"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Tier 2: Chainable Customization"})," - Fluent API for custom achievements"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Tier 3: Full Control"})," - Complete customization for complex logic"]}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"You can mix and match all three tiers in a single configuration!"}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"tier-1-smart-defaults",children:"Tier 1: Smart Defaults"}),"\n",(0,c.jsx)(n.p,{children:"Pre-configured achievements for common patterns with intelligent defaults."}),"\n",(0,c.jsx)(n.h3,{id:"score-achievements",children:"Score Achievements"}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Single Achievement:"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"import { AchievementBuilder } from 'achievements-engine';\n\nconst achievement = AchievementBuilder.createScoreAchievement(100);\n// Result: \"Score 100!\" achievement with \ud83c\udfc6 icon\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Multiple Achievements:"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"const achievements = AchievementBuilder.createScoreAchievements([100, 500, 1000]);\n// Creates three score achievements with smart defaults\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Smart Defaults:"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:'Auto-generated title: "Score {threshold}!"'}),"\n",(0,c.jsx)(n.li,{children:'Auto-generated description: "Score {threshold} points"'}),"\n",(0,c.jsx)(n.li,{children:"Trophy icon: \ud83c\udfc6"}),"\n",(0,c.jsxs)(n.li,{children:["Metric: ",(0,c.jsx)(n.code,{children:"score"})]}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"level-achievements",children:"Level Achievements"}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Single Achievement:"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:'const achievement = AchievementBuilder.createLevelAchievement(5);\n// Result: "Level 5!" achievement with \ud83d\udcc8 icon\n'})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Multiple Achievements:"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"const achievements = AchievementBuilder.createLevelAchievements([5, 10, 25]);\n// Creates three level achievements\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Smart Defaults:"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:'Auto-generated title: "Level {level}!"'}),"\n",(0,c.jsx)(n.li,{children:'Auto-generated description: "Reach level {level}"'}),"\n",(0,c.jsx)(n.li,{children:"Chart icon: \ud83d\udcc8"}),"\n",(0,c.jsxs)(n.li,{children:["Metric: ",(0,c.jsx)(n.code,{children:"level"})]}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"boolean-achievements",children:"Boolean Achievements"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"const achievements = AchievementBuilder.combine([\n  AchievementBuilder.createBooleanAchievement('completedTutorial'),\n  AchievementBuilder.createBooleanAchievement('firstLogin'),\n  AchievementBuilder.createBooleanAchievement('profileCompleted')\n]);\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Smart Defaults:"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:'Auto-generated title from metric name (camelCase \u2192 "Completed Tutorial!")'}),"\n",(0,c.jsx)(n.li,{children:"Checkmark icon: \u2705"}),"\n",(0,c.jsx)(n.li,{children:"Condition: value === true"}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"value-based-achievements",children:"Value-Based Achievements"}),"\n",(0,c.jsx)(n.p,{children:"For achievements based on specific string values:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"const achievement = AchievementBuilder.createValueAchievement('characterClass', 'wizard');\n// Result: \"Wizard!\" achievement when characterClass === 'wizard'\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"tier-2-chainable-customization",children:"Tier 2: Chainable Customization"}),"\n",(0,c.jsx)(n.p,{children:"Customize smart defaults with a fluent, chainable API."}),"\n",(0,c.jsx)(n.h3,{id:"customizing-individual-achievements",children:"Customizing Individual Achievements"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"const achievement = AchievementBuilder.createScoreAchievement(100)\n  .withAward({\n    title: 'Century!',\n    description: 'You scored 100 points!',\n    icon: '\ud83c\udf89'\n  });\n"})}),"\n",(0,c.jsx)(n.h3,{id:"customizing-in-batch",children:"Customizing in Batch"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"const achievements = AchievementBuilder.createScoreAchievements([\n  100,  // Uses default award\n  [500, { title: 'Half Way!', icon: '\u2b50' }],  // Custom award\n  1000  // Uses default award\n]);\n"})}),"\n",(0,c.jsx)(n.h3,{id:"combining-different-achievement-types",children:"Combining Different Achievement Types"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"const achievements = AchievementBuilder.combine([\n  AchievementBuilder.createScoreAchievement(100)\n    .withAward({ title: 'First Points!', icon: '\ud83c\udfaf' }),\n\n  AchievementBuilder.createLevelAchievement(5)\n    .withAward({ title: 'Leveling Up!', description: 'You reached level 5!', icon: '\ud83c\udf1f' }),\n\n  AchievementBuilder.createBooleanAchievement('completedTutorial')\n    .withAward({ title: 'Tutorial Master!', icon: '\ud83d\udcda' })\n]);\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"tier-3-full-control",children:"Tier 3: Full Control"}),"\n",(0,c.jsx)(n.p,{children:"For complex custom logic and conditions."}),"\n",(0,c.jsx)(n.h3,{id:"basic-custom-achievement",children:"Basic Custom Achievement"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"const achievement = AchievementBuilder.create()\n  .withMetric('lastLoginDate')\n  .withCondition((metrics) => {\n    if (metrics.lastLoginDate instanceof Date) {\n      return metrics.lastLoginDate.getTime() > Date.now() - (7 * 24 * 60 * 60 * 1000);\n    }\n    return false;\n  })\n  .withAward({\n    title: 'Weekly Warrior',\n    description: 'Logged in within the last week',\n    icon: '\ud83d\udcc5'\n  })\n  .build();\n"})}),"\n",(0,c.jsx)(n.h3,{id:"multi-metric-condition",children:"Multi-Metric Condition"}),"\n",(0,c.jsxs)(n.p,{children:["The ",(0,c.jsx)(n.code,{children:"metrics"})," parameter gives you access to all metrics. ",(0,c.jsx)(n.strong,{children:"Note"}),": Even for multi-metric conditions, ",(0,c.jsx)(n.code,{children:".withMetric()"})," is required (it's used as the config key). The condition function receives the entire metrics object, so you can check any metric:"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"const achievement = AchievementBuilder.create()\n  .withMetric('combo_achievement') // Required - used as config key\n  .withCondition((metrics) => {\n    // Can access all metrics, not just the one specified in withMetric()\n    return metrics.score >= 1000 && metrics.level >= 10;\n  })\n  .withAward({\n    title: 'Power Player',\n    description: 'Score 1000+ at level 10+',\n    icon: '\ud83d\udcaa'\n  })\n  .build();\n"})}),"\n",(0,c.jsx)(n.h3,{id:"percentage-based-achievement",children:"Percentage-Based Achievement"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"const achievement = AchievementBuilder.create()\n  .withMetric('questsCompleted')\n  .withCondition((metrics) => {\n    return metrics.questsCompleted >= metrics.totalQuests * 0.5; // 50% completion\n  })\n  .withAward({\n    title: 'Halfway There',\n    description: 'Complete 50% of all quests',\n    icon: '\ud83c\udfaf'\n  })\n  .build();\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,c.jsx)(n.p,{children:"Combining all three tiers:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"import { AchievementEngine, AchievementBuilder } from 'achievements-engine';\n\nconst achievements = AchievementBuilder.combine([\n  // Tier 1: Smart defaults\n  AchievementBuilder.createScoreAchievements([100, 500]),\n  AchievementBuilder.createLevelAchievements([5, 10]),\n\n  // Tier 2: Chainable customization\n  AchievementBuilder.createScoreAchievement(1000)\n    .withAward({ title: 'Master Scorer!', icon: '\ud83c\udfc6' }),\n\n  AchievementBuilder.createBooleanAchievement('completedTutorial')\n    .withAward({ title: 'Quick Learner!', icon: '\ud83d\udcda' }),\n\n  // Tier 3: Full control\n  AchievementBuilder.create()\n    .withMetric('perfect_combo')\n    .withCondition((metrics) => {\n      return metrics.score >= 500 && metrics.level >= 5;\n    })\n    .withAward({\n      title: 'Perfect Combo',\n      description: 'Score 500+ at level 5+',\n      icon: '\u26a1'\n    })\n    .build()\n]);\n\n// Initialize engine\nconst engine = new AchievementEngine({\n  achievements,\n  storage: 'localStorage'\n});\n\n// Use the engine\nengine.on('achievement:unlocked', (event) => {\n  console.log(`\ud83c\udf89 ${event.achievementTitle}`);\n});\n\nengine.update({ score: 100, level: 5 });\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"awarddetails-interface",children:"AwardDetails Interface"}),"\n",(0,c.jsxs)(n.p,{children:["All achievement awards use the ",(0,c.jsx)(n.code,{children:"AwardDetails"})," interface:"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"interface AwardDetails {\n  title?: string;        // Achievement title\n  description?: string;  // Achievement description\n  icon?: string;         // Icon or emoji\n}\n"})}),"\n",(0,c.jsx)(n.p,{children:"All fields are optional - the builder provides smart defaults when fields are omitted."}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,c.jsx)(n.h3,{id:"1-use-smart-defaults-when-possible",children:"1. Use Smart Defaults When Possible"}),"\n",(0,c.jsx)(n.p,{children:"Tier 1 methods provide consistent UX with zero configuration:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"// Good: Clear and concise\nAchievementBuilder.createScoreAchievements([100, 500, 1000])\n\n// Also good, but more verbose for simple cases\nAchievementBuilder.createScoreAchievement(100)\n  .withAward({ title: 'Score 100!', description: 'Score 100 points', icon: '\ud83c\udfc6' })\n"})}),"\n",(0,c.jsx)(n.h3,{id:"2-combine-related-achievements",children:"2. Combine Related Achievements"}),"\n",(0,c.jsx)(n.p,{children:"Group achievements by type for better organization:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"const scoreAchievements = AchievementBuilder.createScoreAchievements([...]);\nconst levelAchievements = AchievementBuilder.createLevelAchievements([...]);\nconst customAchievements = AchievementBuilder.create()...;\n\nconst allAchievements = AchievementBuilder.combine([\n  scoreAchievements,\n  levelAchievements,\n  customAchievements\n]);\n"})}),"\n",(0,c.jsx)(n.h3,{id:"3-use-descriptive-metrics-for-custom-achievements",children:"3. Use Descriptive Metrics for Custom Achievements"}),"\n",(0,c.jsx)(n.p,{children:"Make custom achievement metrics self-documenting:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"// Good\n.withMetric('weekly_login_streak')\n.withMetric('perfect_score_level_10')\n\n// Avoid\n.withMetric('achievement1')\n.withMetric('custom_ach')\n"})}),"\n",(0,c.jsx)(n.h3,{id:"4-leverage-the-metrics-parameter",children:"4. Leverage the Metrics Parameter"}),"\n",(0,c.jsxs)(n.p,{children:["For complex conditions, use the metrics parameter to access all metrics. Even though you must specify a metric name with ",(0,c.jsx)(n.code,{children:".withMetric()"}),", the condition function receives the entire metrics object:"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"AchievementBuilder.create()\n  .withMetric('custom_achievement') // Required - used as config key\n  .withCondition((metrics) => {\n    // Can access ALL metrics, not just 'custom_achievement'\n    const level = metrics.level;\n    const quests = metrics.questsCompleted;\n    const score = metrics.score;\n\n    return level >= 10 && quests >= 5 && score >= 1000;\n  })\n  .build()\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.a,{href:"/docs/guides/event-based-tracking",children:"Event-Based Tracking"})," - Listen to achievement unlocks"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.a,{href:"/docs/guides/storage",children:"Storage"})," - Configure persistence"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.a,{href:"/docs/guides/data-portability",children:"Data Portability"})," - Export and import user data"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.a,{href:"/docs/guides/error-handling",children:"Error Handling"})," - Handle errors gracefully"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}},8453(e,n,i){i.d(n,{R:()=>s,x:()=>l});var t=i(6540);const c={},r=t.createContext(c);function s(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:s(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);