"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[379],{3611(e,n,t){t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>m,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"guides/direct-updates","title":"Direct Metric Updates","description":"This guide explains how to directly update achievement metrics using the update() method. This is the most straightforward way to track progress in achievements-engine.","source":"@site/docs/guides/direct-updates.md","sourceDirName":"guides","slug":"/guides/direct-updates","permalink":"/achievements-engine/docs/guides/direct-updates","draft":false,"unlisted":false,"editUrl":"https://github.com/dave-b-b/achievements-engine/tree/main/docs/docs/guides/direct-updates.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Builder API","permalink":"/achievements-engine/docs/guides/builder-api"},"next":{"title":"Event-Based Tracking","permalink":"/achievements-engine/docs/guides/event-based-tracking"}}');var c=t(4848),s=t(8453);const r={sidebar_position:4},o="Direct Metric Updates",a={},l=[{value:"Overview",id:"overview",level:2},{value:"Basic Patterns",id:"basic-patterns",level:2},{value:"Score-Based Achievements",id:"score-based-achievements",level:3},{value:"Boolean Achievements",id:"boolean-achievements",level:3},{value:"String-Based Achievements",id:"string-based-achievements",level:3},{value:"Custom Condition Achievements",id:"custom-condition-achievements",level:3},{value:"Updating Metrics",id:"updating-metrics",level:2},{value:"Incrementing Values",id:"incrementing-values",level:3},{value:"Complete Example",id:"complete-example",level:2},{value:"Browser Integration",id:"browser-integration",level:2},{value:"Vanilla JavaScript Example",id:"vanilla-javascript-example",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"direct-metric-updates",children:"Direct Metric Updates"})}),"\n",(0,c.jsxs)(n.p,{children:["This guide explains how to directly update achievement metrics using the ",(0,c.jsx)(n.code,{children:"update()"})," method. This is the most straightforward way to track progress in ",(0,c.jsx)(n.code,{children:"achievements-engine"}),"."]}),"\n",(0,c.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,c.jsxs)(n.p,{children:["The core of direct metric updates is the ",(0,c.jsx)(n.code,{children:"engine.update()"})," method. You pass an object where keys are metric names and values are the new metric values."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"import { AchievementEngine } from 'achievements-engine';\n\nconst engine = new AchievementEngine({\n  achievements,\n  storage: 'localStorage'\n});\n\nengine.update({ metricName: value });\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"basic-patterns",children:"Basic Patterns"}),"\n",(0,c.jsx)(n.h3,{id:"score-based-achievements",children:"Score-Based Achievements"}),"\n",(0,c.jsx)(n.p,{children:"Track numeric values that increase over time:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"const achievements = {\n  score: {\n    100: { title: 'Century!', description: 'Score 100 points', icon: '\ud83c\udfc6' },\n    500: { title: 'High Scorer!', description: 'Score 500 points', icon: '\u2b50' },\n    1000: { title: 'Legend!', description: 'Score 1000 points', icon: '\ud83d\udc8e' },\n  },\n};\n\n// Usage\nconst engine = new AchievementEngine({ achievements, storage: 'localStorage' });\nengine.update({ score: 150 }); // Unlocks \"Century!\" achievement\n"})}),"\n",(0,c.jsx)(n.h3,{id:"boolean-achievements",children:"Boolean Achievements"}),"\n",(0,c.jsx)(n.p,{children:"Track completion or state changes:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"const achievements = {\n  completedTutorial: {\n    true: { title: 'Tutorial Master', description: 'Complete the tutorial', icon: '\ud83d\udcda' }\n  },\n  firstWin: {\n    true: { title: 'First Victory!', description: 'Win your first game', icon: '\ud83c\udfaf' }\n  },\n};\n\n// Usage\nengine.update({ completedTutorial: true }); // Unlocks achievement\n"})}),"\n",(0,c.jsx)(n.h3,{id:"string-based-achievements",children:"String-Based Achievements"}),"\n",(0,c.jsx)(n.p,{children:"Track specific values or states:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"const achievements = {\n  difficulty: {\n    easy: { title: 'Easy Mode', description: 'Complete on easy', icon: '\ud83d\ude0c' },\n    medium: { title: 'Medium Mode', description: 'Complete on medium', icon: '\ud83e\udd14' },\n    hard: { title: 'Hard Mode', description: 'Complete on hard', icon: '\ud83d\udcaa' },\n  },\n};\n\n// Usage\nengine.update({ difficulty: 'hard' }); // Unlocks \"Hard Mode\"\n"})}),"\n",(0,c.jsx)(n.h3,{id:"custom-condition-achievements",children:"Custom Condition Achievements"}),"\n",(0,c.jsx)(n.p,{children:"For complex logic involving multiple metrics:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"const achievements = {\n  perfectGame: {\n    custom: {\n      title: 'Perfect Game',\n      description: 'Score 1000+ with 100% accuracy',\n      icon: '\ud83c\udfaf',\n      condition: (metrics) => metrics.score >= 1000 && metrics.accuracy === 100\n    }\n  },\n  speedRunner: {\n    custom: {\n      title: 'Speed Runner',\n      description: 'Complete in under 5 minutes',\n      icon: '\u26a1',\n      condition: (metrics) => metrics.timeElapsed < 300 && metrics.completed === true\n    }\n  },\n};\n\n// Usage - track all relevant metrics\nengine.update({ score: 1200 });\nengine.update({ accuracy: 100 });\n// Both metrics checked, unlocks if condition met\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"updating-metrics",children:"Updating Metrics"}),"\n",(0,c.jsxs)(n.p,{children:["Use the ",(0,c.jsx)(n.code,{children:"update()"})," method to track metrics:"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"import { AchievementEngine } from 'achievements-engine';\n\nconst engine = new AchievementEngine({\n  achievements,\n  storage: 'localStorage'\n});\n\n// Update single metric\nengine.update({ score: 100 });\n\n// Update multiple metrics at once\nengine.update({\n  score: 1200,\n  accuracy: 100,\n  timeElapsed: 45,\n  completed: true\n});\n"})}),"\n",(0,c.jsx)(n.h3,{id:"incrementing-values",children:"Incrementing Values"}),"\n",(0,c.jsx)(n.p,{children:"For metrics that increment over time:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"// Track current value\nlet clicks = 0;\n\nfunction handleClick() {\n  clicks++;\n  engine.update({ clicks });\n}\n\n// Or get current value from engine metrics\nfunction incrementScore(points: number) {\n  const currentMetrics = engine.getMetrics<GameMetrics>();\n  const currentScore = currentMetrics.score || 0;\n  engine.update({ score: currentScore + points });\n}\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,c.jsx)(n.p,{children:"Here's a full working example combining multiple achievement types:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"// achievements.ts\nexport const gameAchievements = {\n  // Score milestones\n  score: {\n    100: { title: 'Beginner', description: 'Score 100 points', icon: '\ud83e\udd49' },\n    500: { title: 'Intermediate', description: 'Score 500 points', icon: '\ud83e\udd48' },\n    1000: { title: 'Expert', description: 'Score 1000 points', icon: '\ud83e\udd47' },\n  },\n\n  // Completion tracking\n  completedTutorial: {\n    true: { title: 'Tutorial Complete', description: 'Finished the tutorial', icon: '\ud83d\udcda' }\n  },\n\n  // Difficulty levels\n  difficulty: {\n    hard: { title: 'Hardened Warrior', description: 'Beat hard mode', icon: '\ud83d\udcaa' }\n  },\n\n  // Click counter\n  clicks: {\n    10: { title: 'Clicker', description: 'Click 10 times', icon: '\ud83d\udc46' },\n    100: { title: 'Super Clicker', description: 'Click 100 times', icon: '\ud83d\udc46\ud83d\udc46' },\n  },\n\n  // Complex achievements\n  perfectRun: {\n    custom: {\n      title: 'Perfectionist',\n      description: 'Score 1000+ with 100% accuracy',\n      icon: '\ud83d\udc8e',\n      condition: (metrics) => metrics.score >= 1000 && metrics.accuracy === 100\n    }\n  },\n\n  speedDemon: {\n    custom: {\n      title: 'Speed Demon',\n      description: 'Complete in under 60 seconds',\n      icon: '\u26a1',\n      condition: (metrics) => {\n        return metrics.completed === true && metrics.timeElapsed < 60;\n      }\n    }\n  },\n};\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"// game.ts\nimport { AchievementEngine } from 'achievements-engine';\nimport { gameAchievements } from './achievements';\n\nclass Game {\n  private engine: AchievementEngine;\n  private score: number = 0;\n  private clicks: number = 0;\n  private startTime: number = Date.now();\n\n  constructor() {\n    // Initialize engine\n    this.engine = new AchievementEngine({\n      achievements: gameAchievements,\n      storage: 'localStorage'\n    });\n  }\n\n  scorePoints(points: number) {\n    this.score += points;\n    this.engine.update({ score: this.score });\n  }\n\n  handleClick() {\n    this.clicks++;\n    this.engine.update({ clicks: this.clicks });\n  }\n\n  completeGame() {\n    const timeElapsed = (Date.now() - this.startTime) / 1000; // seconds\n\n    this.engine.update({\n      completed: true,\n      timeElapsed,\n      accuracy: 100 // Your accuracy calculation\n    });\n  }\n\n  setDifficulty(level: 'easy' | 'medium' | 'hard') {\n    this.engine.update({ difficulty: level });\n  }\n}\n\n// Usage\nconst game = new Game();\ngame.scorePoints(100);\ngame.handleClick();\ngame.setDifficulty('hard');\ngame.completeGame();\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"browser-integration",children:"Browser Integration"}),"\n",(0,c.jsx)(n.h3,{id:"vanilla-javascript-example",children:"Vanilla JavaScript Example"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-html",children:"<!DOCTYPE html>\n<html>\n<head>\n  <title>Achievement Demo</title>\n</head>\n<body>\n  <h1>Score: <span id=\"score\">0</span></h1>\n  <button id=\"scoreBtn\">+100 Points</button>\n  <button id=\"clickBtn\">Click Me!</button>\n  <button id=\"completeBtn\">Complete Game</button>\n\n  <script type=\"module\">\n    import { AchievementEngine } from 'achievements-engine';\n\n    const achievements = {\n      score: {\n        100: { title: 'Century!', icon: '\ud83c\udfc6' },\n        500: { title: 'High Scorer!', icon: '\u2b50' }\n      },\n      clicks: {\n        10: { title: 'Clicker', icon: '\ud83d\udc46' }\n      }\n    };\n\n    const engine = new AchievementEngine({\n      achievements,\n      storage: 'localStorage'\n    });\n\n    let score = 0;\n    let clicks = 0;\n\n    // Score button\n    document.getElementById('scoreBtn').addEventListener('click', () => {\n      score += 100;\n      document.getElementById('score').textContent = score;\n      engine.update({ score });\n    });\n\n    // Click button\n    document.getElementById('clickBtn').addEventListener('click', () => {\n      clicks++;\n      engine.update({ clicks });\n    });\n\n    // Complete button\n    document.getElementById('completeBtn').addEventListener('click', () => {\n      engine.update({ completed: true });\n    });\n  <\/script>\n</body>\n</html>\n"})})]})}function m(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}},8453(e,n,t){t.d(n,{R:()=>r,x:()=>o});var i=t(6540);const c={},s=i.createContext(c);function r(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);